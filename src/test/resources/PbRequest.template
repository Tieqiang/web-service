$PBExportHeader$card_message.sru
forward
global type card_message from nonvisualobject
end type
end forward

global type card_message from nonvisualobject autoinstantiate
end type

type variables
string name
string sex
string address
end variables

forward prototypes
public function string to_json ()
public subroutine parse_json (string as_json)
end prototypes

public function string to_json ();
sailjson json
json = create sailjson
json.setattribute( "name", name)
json.setattribute( "sex",sex)
json.setattribute( "address",address)
return json.getformatjson("")
end function

public subroutine parse_json (string as_json);
sailjson json
json = create sailjson
json.parse( as_json)

name = json.getattribute( "name")
sex = json.getattribute( "sex")
address = json.getattribute( "address")
end subroutine

on card_message.create
call super::create
TriggerEvent( this, "constructor" )
end on

on card_message.destroy
TriggerEvent( this, "destructor" )
call super::destroy
end on